# Übungsblatt 1

<div style="text-align: right">Luca M. Schmidt</div>

## Hausaufgabe 1: Datenbankmodelle

### a) Relationales Modell vs. Graphdatenbanken

- **Relationales Modell:**
    - **Struktur:** Daten werden in Tabellen mit Zeilen und Spalten organisiert. Beziehungen zwischen den Tabellen werden über Schlüssel (foreign keys) hergestellt
    - **Typische Einsatzgebiete:**
        - Klassische Geschäftsanwendungen (z. B. ERP- und CRM-Systeme)
        - Transaktionssysteme im Finanz- und E-Commerce-Bereich

- **Graphdatenbank:**
    - **Struktur:** Daten werden als Knoten/Nodes (Entities) und Kanten/Edges (Relations) gespeichert. Die Beziehungen sind dabei ein erstklassiges Element des Modells und werden direkt gespeichert
    - **Typische Einsatzgebiete:**
        - Soziale Netzwerke (z.B. Freundesbeziehungen analysieren)
        - Empfehlungssysteme (z.B. "Kunden, die das kauften, kauften auch...")

**Quellen:**

- Wikipedia – Graphdatenbank: [https://de.wikipedia.org/wiki/Graphdatenbank](https://de.wikipedia.org/wiki/Graphdatenbank)
- AWS – Vergleich von Graph- und relationalen Datenbanken: [https://aws.amazon.com/de/compare/the-difference-between-graph-and-relational-databases/](https://aws.amazon.com/de/compare/the-difference-between-graph-and-relational-databases/)

### b) Datenbankschema

**a. Was versteht unter einem Datenbankschema?**
Ein Datenbankschema ist der "Bauplan" einer Datenbank. Es definiert die logische Struktur, also welche Tabellen es gibt, wie diese aufgebaut sind (Spalten, Datentypen) und welche Beziehungen und Regeln zwischen ihnen bestehen

**b. Was sind Vorteile/Nachteile einer solchen Vorgabe für Entwickler und Anwender?**

- **Vorteile:**
    - **Datenintegrität und -konsistenz:** Das feste Schema stellt sicher, dass nur passende und gültige Daten gespeichert werden können
    - **Klarheit und Verständlichkeit:** Die Struktur ist klar definiert, was die Entwicklung und Abfrage von Daten vereinfacht und vorhersehbar macht
    - **Sicherheit:** Zugriffsrechte können präzise auf Schema-Ebene vergeben werden

- **Nachteile:**
    - **Geringe Flexibilität:** Änderungen am Schema (z. B. eine neue Spalte hinzufügen oder eine vorhandene editieren) sind oft aufwendig und müssen gut geplant werden, da sie bestehende Anwendungen beeinflussen können
    - **Aufwand bei der Entwicklung:** Das Schema muss im Voraus vollständig durchdacht und definiert werden, was den initialen Entwicklungsaufwand erhöht

## Hausaufgabe 2: Paralleler Datenzugriff

### Ablauf mit fehlerhaftem Ergebnis

**Ausgangssituation:** Produktbestand x = 10. Kunde A bestellt y = 3. Kunde B bestellt z = 5
**Erwartetes Ergebnis:** x' = 10 - 3 - 5 = 2

| Zeit | Aktion A (Bestellt 3 Stück)                 | Aktion B (Bestellt 5 Stück)                 | Wert in Datenbank |
| :--- | :------------------------------------------ | :------------------------------------------ | :---------------- |
| T1   | `lesen` Produktverfügbarkeit (10)           |                                             | 10                |
| T2   |                                             | `lesen` Produktverfügbarkeit (10)           | 10                |
| T3   | `berechnen` neue Verfügbarkeit (10 - 3 = 7) |                                             | 10                |
| T4   |                                             | `berechnen` neue Verfügbarkeit (10 - 5 = 5) | 10                |
| T5   | `schreiben` neue Verfügbarkeit (7)          |                                             | 7                 |
| T6   |                                             | `schreiben` neue Verfügbarkeit (5)          | **5**             |

**Problem:** Der finale Lagerbestand ist 5 anstatt des korrekten Werts 2

### Erläuterung der Problematik

Das Problem des "verlorenen Updates" entsteht, weil beide Transaktionen den _gleichen initialen Wert_ (10) als Basis für ihre Berechnung verwenden. Transaktion B weiß nichts von der Berechnung, die Transaktion A bereits durchgeführt hat. Als Transaktion B ihren neuen Wert (5) in die Datenbank schreibt, überschreibt sie das Ergebnis von Transaktion A (7). Die Änderung von A geht somit verloren. Neuere Datenbanksysteme verhindern dies durch Mechanismen wie Transaktions-Sperren (transations/locking).
