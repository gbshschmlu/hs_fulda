# Algorithmen und Datenstrukturen - Übungsblatt 9

## Lösungen (Präsentationsversion)

---

## Aufgabe 9.1: Adjazenzmatrix

### Gegeben

Adjazenzmatrix mit Knoten A, B, C, D, E, F

### Lösung

Der Graph ist **gerichtet und gewichtet**:

**Von Knoten A:**

- A → B (Gewicht 5)
- A → F (Gewicht 3)

**Von Knoten B:**

- B → C (Gewicht 8)

**Von Knoten C:**

- C → D (Gewicht 12)
- C → E (Gewicht 30)

**Von Knoten D:**

- D → E (Gewicht 15)

**Von Knoten E:**

- E → F (Gewicht 0)

**Von Knoten F:**

- F → B (Gewicht 1)
- F → C (Gewicht 2)
- F → D (Gewicht 30)

### Graph-Struktur

```
A ──5──→ B
│        ↓ 8
3        C ──12──→ D
│        ↓ 2      ↓ 15
↓  1 ←── F ←─0─── E
│        ↓ 30     ↑ 30
└────────────────┘
```

---

## Aufgabe 9.2: Einfache Graphen (Isomorphie)

### Frage

Wie viele nicht-isomorphe Graphen mit 4 Knoten gibt es?

### Lösung

**Antwort: 11 Graphen**

Systematische Aufzählung nach Kantenzahl:

| Kanten | Anzahl Graphen | Beispiele                                   |
|--------|----------------|---------------------------------------------|
| 0      | 1              | Vier isolierte Punkte                       |
| 1      | 1              | Eine Kante                                  |
| 2      | 2              | Zwei disjunkte Kanten ODER Pfad der Länge 2 |
| 3      | 3              | Pfad Länge 3, Stern, Dreieck                |
| 4      | 2              | Kreis, "Paw" (Dreieck mit Antenne)          |
| 5      | 1              | K4 minus eine Kante                         |
| 6      | 1              | K4 (vollständiger Graph)                    |

**Gesamt: 1 + 1 + 2 + 3 + 2 + 1 + 1 = 11**

---

## Aufgabe 9.3: Eulerpfade

### Regel

Ein Eulerpfad existiert, wenn:

- Der Graph zusammenhängend ist UND
- 0 oder 2 Knoten ungeraden Grad haben

### Graph 1 (Links)

**Grade zählen:**

- Alle Knoten (A, B, C, D, E, F): Grad 4 oder 2 (alle gerade)

**Ergebnis:** ✓ **JA** - sogar Eulerkreis möglich

### Graph 2 (Mitte links)

**Grade zählen:**

- Knoten A, B, C, D: Grad 3 (ungerade)
- 4 Knoten mit ungeradem Grad

**Ergebnis:** ✗ **NEIN** - mehr als 2 ungerade Knoten

### Graph 3 (Mitte rechts)

**Grade zählen:**

- Knoten F, E, B, C: ungerade Grade
- 4 Knoten mit ungeradem Grad

**Ergebnis:** ✗ **NEIN**

### Graph 4 (Rechts)

**Grade zählen:**

- Knoten E, B, D, C: Grad 3 (ungerade)
- 4 Knoten mit ungeradem Grad

**Ergebnis:** ✗ **NEIN**

---

## Aufgabe 9.4: Tiefensuche (DFS)

### Graph-Struktur

```
1 → 2 → 4
│   └→ 5
└→ 3 → 6 → 4 (schon besucht)
           └→ 5 (schon besucht)

7 → 6 (isolierte Komponente)

8 → 7 (isolierte Komponente)
```

### DFS-Ablauf (Start bei 1)

**Schritte:**

1. **Besuche 1** (Start)
2. **Gehe zu 2** (erster Nachbar von 1)
3. **Gehe zu 4** (erster Nachbar von 2)
    - 4 ist Sackgasse → Backtrack zu 2
4. **Gehe zu 5** (zweiter Nachbar von 2)
    - 5 ist Sackgasse → Backtrack zu 2 → Backtrack zu 1
5. **Gehe zu 3** (zweiter Nachbar von 1)
6. **Gehe zu 6** (erster Nachbar von 3)
    - Nachbarn 4 und 5 bereits besucht → Backtrack zu 3 → Backtrack zu 1
7. **Ende** - keine weiteren unbesuchten Nachbarn

### Ergebnis

**Besuchsreihenfolge (Pre-Order):** 1, 2, 4, 5, 3, 6

**Wichtig:** Knoten 7 und 8 werden NICHT erreicht, da sie nicht mit der Startkomponente verbunden sind!

---

## Aufgabe 9.5: Topologisches Sortieren

### Linker Graph

**Zyklus-Check:**

- Es existiert ein Hamilton-Kreis: 1 → 3 → 2 → 6 → 4 → 5 → 1
- Ein Zyklus macht topologisches Sortieren unmöglich

**Ergebnis:** ✗ **NICHT sortierbar** (wegen Zyklus)

### Rechter Graph

**Zyklus-Check:**

- Kein Zyklus erkennbar
- Knoten 1 hat Eingangsgrad 0 (guter Startpunkt)

**Sortier-Schritte:**

1. Starte mit Knoten 1 (Eingangsgrad 0)
2. Entferne 1 → Knoten 3 und 6 haben jetzt ggf. Eingangsgrad 0
3. Weiter systematisch...

**Mögliche Sortierung:** 1, 3, 6, 7, 4, 5, 2, 8

**Ergebnis:** ✓ **Sortierbar**

---

## Aufgabe 9.6: Minimale Spannbäume (MST)

### Gegeben

Graph mit 7 Knoten (A-G) und gewichteten Kanten

**Alle Kanten sortiert:**

1. F-G: 0
2. C-D: 1
3. A-B: 2
4. B-C: 3
5. B-D: 4
6. C-E: 5
7. D-F: 6
8. A-C: 7
9. A-E: 8
10. E-G: 9
11. D-G: 10

---

### Teil (a): Prim mit Startknoten A

**Schritte:**

1. Start: {A}
    - Verfügbare Kanten von A: A-B (2), A-C (7), A-E (8)
    - **Wähle A-B (2)** → {A, B}

2. Aktuell: {A, B}
    - Verfügbare Kanten: B-C (3), B-D (4), A-C (7), A-E (8)
    - **Wähle B-C (3)** → {A, B, C}

3. Aktuell: {A, B, C}
    - Verfügbare Kanten: C-D (1), B-D (4), C-E (5), A-C (7 überflüssig), A-E (8)
    - **Wähle C-D (1)** → {A, B, C, D}

4. Aktuell: {A, B, C, D}
    - Verfügbare Kanten: B-D (4 überflüssig), C-E (5), D-F (6), A-E (8), D-G (10)
    - **Wähle C-E (5)** → {A, B, C, D, E}

5. Aktuell: {A, B, C, D, E}
    - Verfügbare Kanten: D-F (6), A-E (8 überflüssig), E-G (9), D-G (10)
    - **Wähle D-F (6)** → {A, B, C, D, E, F}

6. Aktuell: {A, B, C, D, E, F}
    - Verfügbare Kanten: F-G (0), E-G (9), D-G (10)
    - **Wähle F-G (0)** → {A, B, C, D, E, F, G}

**MST Kanten:** A-B, B-C, C-D, C-E, D-F, F-G

**Gesamtkosten:** 2 + 3 + 1 + 5 + 6 + 0 = **17**

---

### Teil (b): Prim mit Startknoten E

**Schritte:**

1. Start: {E}
    - **Wähle C-E (5)** → {E, C}

2. Aktuell: {E, C}
    - **Wähle C-D (1)** → {E, C, D}

3. Aktuell: {E, C, D}
    - **Wähle B-C (3)** → {E, C, D, B}

4. Aktuell: {E, C, D, B}
    - **Wähle A-B (2)** → {E, C, D, B, A}

5. Aktuell: {E, C, D, B, A}
    - **Wähle D-F (6)** → {E, C, D, B, A, F}

6. Aktuell: {E, C, D, B, A, F}
    - **Wähle F-G (0)** → {E, C, D, B, A, F, G}

**MST Kanten:** C-E, C-D, B-C, A-B, D-F, F-G (gleiche Kanten, andere Reihenfolge)

**Gesamtkosten:** 5 + 1 + 3 + 2 + 6 + 0 = **17**

---

### Teil (c): Gesamtkosten bei beliebigem Startknoten

**Antwort:** Die Gesamtkosten sind **immer 17**, unabhängig vom Startknoten.

**Begründung:**

- Der MST ist für einen Graphen mit eindeutigen Kantengewichten **eindeutig**
- Prim's Algorithmus findet immer denselben MST
- Nur die Reihenfolge, in der die Kanten hinzugefügt werden, ändert sich
- Das Endergebnis (die Menge der Kanten und die Gesamtkosten) bleibt gleich

---

### Teil (d): Kruskal's Algorithmus

**Vorgehen:**

1. Sortiere alle Kanten nach Gewicht (bereits oben gemacht)
2. Füge Kanten hinzu, die keinen Zyklus erzeugen

**Schritte:**

1. **F-G (0)**: ✓ Hinzufügen → Sets: {F,G}

2. **C-D (1)**: ✓ Hinzufügen → Sets: {C,D}, {F,G}

3. **A-B (2)**: ✓ Hinzufügen → Sets: {A,B}, {C,D}, {F,G}

4. **B-C (3)**: ✓ Hinzufügen (verbindet {A,B} mit {C,D})
   → Sets: {A,B,C,D}, {F,G}

5. **B-D (4)**: ✗ **VERWERFEN** (würde Zyklus B-C-D erzeugen)

6. **C-E (5)**: ✓ Hinzufügen → Sets: {A,B,C,D,E}, {F,G}

7. **D-F (6)**: ✓ Hinzufügen (verbindet beide Sets)
   → Sets: {A,B,C,D,E,F,G}

**Fertig!** (7 Knoten, 6 Kanten = Baum)

**MST Kanten:** F-G, C-D, A-B, B-C, C-E, D-F

**Gesamtkosten:** 0 + 1 + 2 + 3 + 5 + 6 = **17**

---

### Teil (e): Zusätzliche Kante A-E (11)

**Frage:** Was ändert sich, wenn wir eine parallele Kante A-E mit Gewicht 11 hinzufügen?

**Antwort für alle Algorithmen:**

#### Prim (Start A):

- Die Kante A-E (11) wird nie gewählt, weil es immer günstigere Alternativen gibt
- Der Algorithmus verbindet A und E über A-B-C-E (Kosten: 10)
- **MST bleibt gleich, Kosten: 17**

#### Prim (Start E):

- Gleiche Argumentation
- **MST bleibt gleich, Kosten: 17**

#### Kruskal:

- Bei sortierter Liste steht A-E (11) nach allen MST-Kanten
- Wenn A-E (11) betrachtet wird, sind A und E bereits verbunden
- Die Kante würde einen Zyklus erzeugen → wird verworfen
- **MST bleibt gleich, Kosten: 17**

**Fazit:** Die neue Kante hat **keinen Einfluss** auf den MST, da:

1. Sie teurer ist als der existierende Pfad von A nach E
2. Sie einen Zyklus erzeugen würde

---

## Zusammenfassung für die Präsentation

### Wichtigste Punkte

1. **Adjazenzmatrix**: Zeile = von, Spalte = zu, Zahl = Gewicht
2. **Eulerpfad**: Grade zählen → 0 oder 2 ungerade = gut
3. **DFS**: Tief rein, bei Sackgasse zurück
4. **Topologisch**: Nur ohne Zyklus möglich
5. **MST**: Gesamtkosten immer gleich (17), egal welcher Algorithmus

### Pro-Tipps für morgen

- Sprich langsam und deutlich
- Zeige die Visualisierung Schritt für Schritt
- Bei Unsicherheit: "Lass mich das nochmal durchrechnen"
- Die Zahlen sind dein Freund - rechne vor
